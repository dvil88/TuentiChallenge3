<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width">

	<link rel="icon" href="https://contest.tuenti.net/favicon.ico" type="image/x-icon">

	<link rel="stylesheet" href="Tuenti%20Challenge%203_files/normalize.css">
	<link rel="stylesheet" href="Tuenti%20Challenge%203_files/contest.css">
 	
	<!--[if lt IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<script src="Tuenti%20Challenge%203_files/ga.js" async="" type="text/javascript"></script><script type="text/javascript" src="Tuenti%20Challenge%203_files/widgets.js"></script>

	<title>Tuenti Challenge 3</title>
</head>

<body>
	<header>
		<div class="grid">
			<h1 class="logo h-left"><a href="https://contest.tuenti.net/">Tuenti Challenge 3</a></h1>
			<nav class="h-right">
				<ul>
					<li class="none"><a href="https://contest.tuenti.net/">Home</a></li>
					<li class="none"><a href="https://contest.tuenti.net/Info/about">Info</a></li>
					<li class="active"><a href="https://contest.tuenti.net/Challenges">Challenges</a></li>
					<li class="none"><a href="https://contest.tuenti.net/Info/tools">Tools</a></li>
									
				</ul>
			</nav>
		</div>		
	</header><div class="content">
		<div class="grid">
			<div class="problem">

<h2><strong>Challenge 3</strong> - Lost in Lost</h2>
<nav class="h-right">
	<a class="" href="https://contest.tuenti.net/Challenges?id=2"><span>« Prev</span></a>
	<a class="" href="https://contest.tuenti.net/Challenges?id=4"><span>Next »</span></a>
</nav>

<p>The writers of the Lost series have a serious problem. Due to its immense popularity, they have written several 
hundred seasons. 
Almost every chapter has some <em>flashbacks</em> or <em>flashforwards</em> that display scenes of other chapters 
of other seasons, that may have been written, or may not have.</p>

<p>In order to write a book of the complete series, they want to have all scenes arranged chronologically, 
but they are lost in their scripts (what a shame!). They have hired you to solve this.</p>


<h3>Input</h3>
<p>First a number <b>N</b> of scripts to process is given. Then, <b>N</b> scripts follow, each one in a different line.</p>

<p>Each script consists of a sequence of described scenes. Each scene is delimited by a dot (<b>.</b>), a less-than (<b> &lt; </b>) 
or a greater-than (<b> &gt; </b>) symbol:
</p><ul>
<li>Scenes beginning with the dot are chronologically ordered.</li> 
<li>If the scene begins with a <b>&lt;</b> symbol, then it's a flashback
 during the previous (chronologically ordered) scene. That is, it 
happened before the previous scene.</li> 
<li>If the scene begin with a <b>&gt;</b> sign, then it's a flashforward
 during the previous (chronologically ordered) scene. That is, it 
happened after the previous scene.</li>
</ul>

<p>Example: .A&gt;B&lt;C is C,A,B</p>

<p>There may not be any possible chronological order for a given script,
 or there may be more than one if the scriptwriters have made enough of a
 mess.</p> 

<h3>Output</h3>
<p>For each script, if there is only one possible chronological order, output the list of scenes described, 
ordered chronologically and separated by commas.</p>
<p>If the script has a finite number (greater than 1) of possible chronological orders, return 'valid'.</p>
<p>If no chronological order is possible, or there is more than one beginning or end scene, 
or there is neither beginning nor end scene, then return 'invalid'.
</p>

<h3>Sample input</h3>
<code>
3<br>
.john gets into the plane&lt;john sees paul at the airport.john tells mia they are going to die&gt;the plane crashes<br>
.john gets into the plane&lt;john sees paul at the airport.john tells 
mia they are going to die&gt;the plane crashes.the plane takes off.mia 
sees through the window an isolated island&lt;the plane crashes<br>
.john gets into the plane&lt;john sees paul at the airport.john tells 
mia they are going to die&gt;the plane crashes.john sees paul at the 
airport
</code>

<h3>Sample output</h3>
<code>
john sees paul at the airport,john gets into the plane,john tells mia they are going to die,the plane crashes<br>
valid<br>
invalid
</code></div>
<div class="problem">
	<h2>Submit &amp; test your code</h2>
	<p>To test and submit code we provide a set of tools to help you. Download
	<a href="https://contest.tuenti.net/Info/tools">contest tools</a> if you haven't already done that. You will then be able to test your solution to this
	challenge with the challenge tokens.</p>
	<code>Challenge tokens: CHALLENGE_3, CHALLENGE_SUBMIT_3</code>
	<br>
	<h3>To test your program</h3>
	<code>./test_challenge CHALLENGE_3 path/program</code>
	<p>A nice output will tell you if your program got the right solution or not. You can try as
	many times as you need.</p>
	<h3>To test your program against the input provided in the submit phase</h3>
	<code>./test_challenge CHALLENGE_SUBMIT_3 path/program</code>
	<p>During the submit phase, in some problems, we might give your program harder inputs. As with the test token, 
	a nice output will tell you if your program got the right solution or not. You can try as
	many times as you need.</p>
	
	<p>In the actual contest you first need to solve the test phase before 
submitting the code, you must provide 
	the source code used to solve the challenge and you can only submit 
once (once your solution is submitted you won't be able to amend it to 
fix issues 
	or make it faster). </p>
	
	<p>If you have any doubts, please check the <a href="https://contest.tuenti.net/Info/about">info section</a>.</p>
<h3>Problem stats</h3>
		<div id="status">
<table class="status">
<tbody>
<tr>
	<th>Completion time:</th>
	<td>
		<b>10 percentile:</b> 3:06 h<br>
		<b>90 percentile:</b> 51:39 h<br>
	</td>
</tr>
<tr>
	<th>Submit exec time:</th>
	<td>
		<b>min:</b> 0.41 s<br>
		<b>10 percentile:</b> 0.83 s<br>
		<b>90 percentile:</b> 12.00 s<br>
		<b>max:</b> 24027.00 s<br>
	</td>
</tr>
<tr>
	<th>Test tries:</th>
	<td>
		<b>min:</b> 1<br>
		<b>10 percentile:</b> 3<br>
		<b>90 percentile:</b> 53<br>
		<b>max:</b> 199<br>
	</td>
</tr>
<tr><th># of completions:</th><td>223</td></tr>
</tbody>
</table>
</div>
<br>
	<nav class="h-right" style="padding-top: 0;">
		<a class="" href="https://contest.tuenti.net/Challenges?id=2"><span>« Prev</span></a>
		<a class="" href="https://contest.tuenti.net/Challenges?id=4"><span>Next »</span></a>
	</nav>
</div>
</div>
</div>	<footer>
		<div class="grid">
			<p class="h-left">
				Tweet about this! <a href="http://twitter.com/intent/tweet?text=%23TuentiChallenge3">#TuentiChallenge3</a>
			</p>
			<ul class="h-right scl-menu">
				<li>
					<a title="Share on Tuenti" href="http://www.tuenti.com/share" id="tuenti_share" class="tuenti-share-button" icon-style="dark" language="en-US" suggested-text="Share Tuenti Programming Contest in Tuenti!"><img src="Tuenti%20Challenge%203_files/dark_en.png" style="border: 0px none;"></a>
				</li>
				<li>
					<a href="https://twitter.com/Tuentieng" class="twitter-follow-button" data-show-count="false" data-lang="es" data-show-screen-name="false" data-dnt="true">Follow @Tuentieng</a>
				</li>
			</ul>
		</div>
	</footer>
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-40515046-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>



</body></html>